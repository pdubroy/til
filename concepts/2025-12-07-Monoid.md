# Monoid

Per [Wikipedia](https://en.wikipedia.org/wiki/Monoid):

> In abstract algebra, a _monoid_ is a set equipped with an associative binary operation and an identity element. For example, the natural numbers with addition form a monoid, the identity element being 0.

I'm sure I've come across the term before, but never in a context where it was very relevant to me â€” until this week!

The article [Zed Decoded: Rope & SumTree](https://zed.dev/blog/zed-decoded-rope-sumtree) covers a bunch of real-world problems in text editing that involve monoids. It's also relevant to parsing: for Ohm's [incremental parsing][sle17], we use a very similar data approach in the internal syntax tree. It lets us have position-independent memo table entries, while being able to cheaply compute the absolute offset of a node on-demand.

The generalized version Zed's SumTree is also referred to as a _monoid-cached tree_.

See also:

- [Four Solutions to a Trivial Problem](https://www.youtube.com/watch?v=ftcIcn8AmSY), a talk by Guy Steele that discusses monoid-cached trees.
- Blelloch's [Prefix sums and their applications](https://www.cs.cmu.edu/~guyb/papers/Ble93.pdf) (1990)

[sle17]: https://ohmjs.org/pubs/sle2017/incremental-packrat-parsing.pdf
