# Printing V8 bytecode

Sometimes I want a lower-level picture of how my JavaScript code will be executed by the JS engine. In V8, one way to do that is to look at the bytecode for the Ignition interpeter.

In Node.js and [d8](https://v8.dev/docs/d8) (the V8 developer shell), you can do that with `--print-bytecode`. But, that will dump bytecode for *everything*, including V8 and Node internals.

You can use `--print-bytecode-filter` to limit it to certain functions. E.g., if you have the following source code:

```js
const add = (a, b) => a + b;

function onePlusTwo() {
  return add(1, 2);
}

console.log(onePlusTwo());
```

Then, `node --print-bytecode --print-bytecode-filter=onePlusTwo myScript.js` will show:

```
[generated bytecode for function: onePlusTwo (0x3670aa458b39 <SharedFunctionInfo onePlusTwo>)]
Bytecode length: 17
Parameter count 1
Register count 3
Frame size 24
   56 S> 0x3309ab60a9d8 @    0 : 19 03             LdaImmutableCurrentContextSlot [3]
         0x3309ab60a9da @    2 : b4 00             ThrowReferenceErrorIfHole [0]
         0x3309ab60a9dc @    4 : ce                Star0
         0x3309ab60a9dd @    5 : 0d 01             LdaSmi [1]
         0x3309ab60a9df @    7 : cd                Star1
         0x3309ab60a9e0 @    8 : 0d 02             LdaSmi [2]
         0x3309ab60a9e2 @   10 : cc                Star2
   63 E> 0x3309ab60a9e3 @   11 : 6a f9 f8 f7 00    CallUndefinedReceiver2 r0, r1, r2, [0]
   73 S> 0x3309ab60a9e8 @   16 : b3                Return
Constant pool (size = 1)
0x3309ab60a981: [TrustedFixedArray]
 - map: 0x0241845c09e1 <Map(TRUSTED_FIXED_ARRAY_TYPE)>
 - length: 1
           0: 0x0241845c63b9 <String[3]: #add>
Handler Table (size = 0)
Source Position Table (size = 9)
0x3309ab60a9f1 <Other heap object (TRUSTED_BYTE_ARRAY_TYPE)>
```

See [Kuter Dinel's V8 bytecode reference](https://kuterdinel.com/v8-bytecode-reference.html) for help in understanding the meaning of the instructions themselves.
